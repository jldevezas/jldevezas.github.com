<section id="vlb-user-centric" ng-controller="IndividualListeningBehaviorCtrl">
	<div class="page-header">
		<h1>Individual Music Listening Behavior</h1>
	</div>

	<p>
		Explore listening behavior by selecting a user below. You can type a country to filter
		by country or a number to filter by age. You can navigate to next or previous users
		either by clicking the respective buttons or by using the <em>n</em> and <em>p</em>
		keys.
	</p>

	<div id="control" data-spy="affix" data-offset-top="50">
		<select id="user-select"></select>&nbsp;
		<button id="button-previous" class="btn btn-primary">Previous</button>
		<button id="button-next" class="btn btn-primary">Next</button>
		<span id="user-country"></span>
		<span id="user-age"></span>
		<span id="user-gender"></span>
	</div>

	<h2>Streamgraph for the User's Top 20 Overall Artists</h2>
	<div id="stream-tooltip"></div>
	<div id="stream-graph"></div>

	<h2>Monthly Play Count for <span id="artist-monthly-name">
			Most Frequently Listened Artist</span></h2>
	<div id="artist-monthly-tooltip"></div>
	<div id="artist-monthly-chart"></div>

	<div class="row" id="weekly-charts">
		<div class="col-lg-6">
			<h2>Weekly Play Count for <span id="artist-weekly-name">
					Most Frequently Listened Artist</span></h2>
			<div id="artist-weekly-tooltip"></div>
			<div id="artist-weekly-chart"></div>
		</div>
		<div class="col-lg-6">
			<h2>Top Artist Per Week Day</h2>
			<div id="top-artist-weekly-tooltip"></div>
			<div id="top-artist-weekly-chart"></div>
		</div>
	</div>

	<h2>Weekly Analysis</h2>
	<p>
		After an initial exploratory analysis supported on our visualizations, we
		noticed that certain artists were played more frequently on some days of the
		week, while other artists were avoided on different weekdays.
	</p> 

	<p>
		In order to try and confirm this, we devised a simple heuristic based on the
		dissimilarity matrix, where we measured the "closeness" of the play count for
		each weekday to every other play count of the given artist. All values were
		normalized and combined with the inverse of the normalized weekly total play
		count for the user, thus giving more weight to a peak, as it is further apart
		from the listening behavior for the given weekday. This means that the
		preferred listening days for some artists might not directly map to the peaks
		in the weekly play count chart above!
	</p>
	
	<p>
		The avoided weekdays were simply selected based on the closeness to zero. In
		this case, we used the interval [0, 0.1] simply to identify low values. We are
		more interested on the positives though. We illustrate our technique below.
	</p>

	<div class="row">
		<div class="col-lg-6">
			<h3>Weekly Play Count for user_000196</h3>
			<img src="img/charts/user_000196_weekly_scrobbles.png" class="photo"/>
		</div>
		<div class="col-lg-6">
			<h3>Weekly Play Count for user_000196 for Lamb</h3>
			<img src="img/charts/preferred_listening_weekday_user_000196_Lamb.png" class="photo"/>
		</div>
	</div>
		
	<p>
		The chart on the left shows the normalized weekly play count distribution
		for the user. As you can see, the value 1.00, on Sunday, corresponds to the
		day when <em>user_000196</em> listens to music the most. This also means
		that, according to our heuristic, peaks on Sunday are less meaningful than
		peaks on Friday, the weekday when the user listens to music the least.
	</p>

	<div class="row">
		<div class="col-lg-6">
			<h3>Preferred Weekdays for Top 10 Artists</h3>
			<div class="space">
				<div id="preferred-weekdays"></div>
			</div>
		</div>
		<div class="col-lg-6">
			<h3>Avoided Weekdays for Top 10 Artists</h3>
			<div class="space">
				<div id="avoided-weekdays"></div>
			</div>
		</div>
	</div>
</section>
